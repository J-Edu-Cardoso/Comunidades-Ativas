# ğŸ¯ VisÃ£o Geral dos Processos - API Comunidade Ativa

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMUNIDADE ATIVA - API BPMN                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   UsuÃ¡rio    â”‚
                          â”‚ Autenticado  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Visualizar Ideias     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚        Que aÃ§Ã£o?            â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                         â”‚              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Criar      â”‚  â”‚     Votar       â”‚
              â”‚   Ideia      â”‚  â”‚   em Ideia      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Comentar    â”‚  â”‚    Buscar       â”‚
              â”‚   Ideia      â”‚  â”‚    Ideias       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚              â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   Sistema Salva Dados   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   Recalcular MÃ©tricas    â”‚
               â”‚   (Votos, ComentÃ¡rios)  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚      Notificar          â”‚
               â”‚      UsuÃ¡rio            â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚    Atualizar Feed       â”‚
               â”‚     da Comunidade       â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ **Processos Principais Mapeados**

### **1. AutenticaÃ§Ã£o e UsuÃ¡rios**
- **Registro:** ValidaÃ§Ã£o â†’ CriaÃ§Ã£o â†’ Email de boas-vindas
- **Login:** ValidaÃ§Ã£o de credenciais â†’ GeraÃ§Ã£o de token JWT
- **Perfil:** Upload de avatar â†’ SincronizaÃ§Ã£o em todas as pÃ¡ginas
- **Admin:** Gerenciamento de usuÃ¡rios â†’ AtivaÃ§Ã£o/DesativaÃ§Ã£o

### **2. Gerenciamento de Ideias**
- **CRUD Completo:** Criar â†’ Listar â†’ Visualizar â†’ Editar â†’ Excluir
- **Sistema de Votos:** Upvote/Downvote â†’ RecÃ¡lculo automÃ¡tico
- **Busca Global:** Ideias, usuÃ¡rios, comentÃ¡rios, categorias
- **Filtros:** Por categoria, usuÃ¡rio, status, data

### **3. Sistema de ComentÃ¡rios**
- **ComentÃ¡rios em Cascata:** Respostas a comentÃ¡rios
- **ModeraÃ§Ã£o:** AprovaÃ§Ã£o manual ou automÃ¡tica
- **Contadores:** AtualizaÃ§Ã£o em tempo real

### **4. AdministraÃ§Ã£o**
- **Painel Admin:** Dashboard com mÃ©tricas
- **Gerenciamento de Categorias:** CRUD completo
- **ModeraÃ§Ã£o:** AprovaÃ§Ã£o/rejeiÃ§Ã£o de conteÃºdo
- **EstatÃ­sticas:** RelatÃ³rios detalhados

## ğŸ—ï¸ **Arquitetura da API**

### **Camadas da AplicaÃ§Ã£o**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Frontend (HTML/JS)        â”‚
â”‚  - Profile.html, index.html         â”‚
â”‚  - nova-ideia.html, login.html      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ HTTP/REST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Middleware & Auth            â”‚
â”‚  - JWT Validation                   â”‚
â”‚  - File Upload                      â”‚
â”‚  - Rate Limiting                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Controllers                 â”‚
â”‚  - UserController                   â”‚
â”‚  - IdeaController                   â”‚
â”‚  - CategoryController               â”‚
â”‚  - CommentController                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Sequelize ORM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Database Models             â”‚
â”‚  - User, UserProfile                â”‚
â”‚  - Idea, Category                   â”‚
â”‚  - Comment, Vote                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ PostgreSQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Database Engine             â”‚
â”‚  - Tables, Indexes, Constraints     â”‚
â”‚  - Triggers, Stored Procedures      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š **MÃ©tricas e KPIs**

### **Indicadores de Performance**
- â±ï¸ **Tempo de Resposta:** < 200ms para consultas
- ğŸ“ˆ **Throughput:** 1000+ requisiÃ§Ãµes/minuto
- ğŸ”„ **Uptime:** 99.9% disponibilidade
- ğŸ’¾ **Taxa de Erro:** < 0.1% de falhas

### **Indicadores de NegÃ³cio**
- ğŸ‘¥ **UsuÃ¡rios Ativos:** Crescimento mensal
- ğŸ’¡ **Ideias Submetidas:** Volume e qualidade
- ğŸ—³ï¸ **Taxa de Engajamento:** Votos e comentÃ¡rios
- â­ **Taxa de ConversÃ£o:** Ideias â†’ ImplementaÃ§Ã£o

## ğŸ” **SeguranÃ§a Implementada**

### **AutenticaÃ§Ã£o**
- **JWT Tokens** com expiraÃ§Ã£o configurÃ¡vel
- **Hash de Senhas** com bcrypt
- **Rate Limiting** por IP/usuÃ¡rio

### **AutorizaÃ§Ã£o**
- **Role-based Access** (User/Admin)
- **Ownership Validation** (dono do recurso)
- **Input Sanitization** contra XSS/SQL Injection

### **ValidaÃ§Ãµes**
- **Schema Validation** com Joi/Yup
- **File Upload Security** (tipo, tamanho)
- **Soft Delete** para integridade

## ğŸš€ **Como Executar**

### **PrÃ©-requisitos**
```bash
Node.js >= 16.0
PostgreSQL >= 13.0
```

### **InstalaÃ§Ã£o**
```bash
# 1. Clonar repositÃ³rio
git clone <repository-url>
cd comunidade-ativa-upx

# 2. Instalar dependÃªncias
npm install

# 3. Configurar banco de dados
npm run setup-db

# 4. Executar servidor
npm start
```

### **Testes**
```bash
# Testes unitÃ¡rios
npm test

# Testes de integraÃ§Ã£o
npm run test:integration

# Testes de API
npm run test:api
```

## ğŸ“ **Estrutura de Arquivos**

```
backend/
â”œâ”€â”€ controllers/           # LÃ³gica de negÃ³cio
â”‚   â”œâ”€â”€ UserController.js      # ğŸ‘¤ UsuÃ¡rios
â”‚   â”œâ”€â”€ IdeaController.js      # ğŸ’¡ Ideias
â”‚   â”œâ”€â”€ CategoryController.js  # ğŸ“‚ Categorias
â”‚   â”œâ”€â”€ CommentController.js   # ğŸ’¬ ComentÃ¡rios
â”‚   â””â”€â”€ StatsController.js     # ğŸ“Š EstatÃ­sticas
â”œâ”€â”€ models/               # Modelos Sequelize
â”œâ”€â”€ routes/               # DefiniÃ§Ã£o de rotas
â”œâ”€â”€ middleware/           # AutenticaÃ§Ã£o e upload
â””â”€â”€ services/             # LÃ³gica reutilizÃ¡vel

frontend/
â”œâ”€â”€ public/               # Arquivos estÃ¡ticos
â”‚   â”œâ”€â”€ index.html           # ğŸ  PÃ¡gina inicial
â”‚   â”œâ”€â”€ Profile.html         # ğŸ‘¤ Perfil do usuÃ¡rio
â”‚   â”œâ”€â”€ nova-ideia.html      # ğŸ’¡ SubmissÃ£o de ideias
â”‚   â”œâ”€â”€ login.html          # ğŸ” Login
â”‚   â””â”€â”€ register.html       # ğŸ“ Cadastro
â””â”€â”€ js/                   # JavaScript modular
    â”œâ”€â”€ api.js               # ğŸ”Œ Cliente HTTP
    â”œâ”€â”€ ideas.js             # ğŸ’¡ Gerenciamento de ideias
    â””â”€â”€ ui.js                # ğŸ¨ Interface do usuÃ¡rio

database/
â””â”€â”€ migrations/           # Scripts de migraÃ§Ã£o
    â””â”€â”€ *.js                 # CriaÃ§Ã£o/alteraÃ§Ã£o de tabelas
```

## ğŸ¯ **Funcionalidades Implementadas**

### **âœ… Completamente Funcional**
- [x] **Sistema de autenticaÃ§Ã£o** completo
- [x] **CRUD de ideias** com filtros avanÃ§ados
- [x] **Sistema de votos** (upvote/downvote)
- [x] **ComentÃ¡rios em cascata** com moderaÃ§Ã£o
- [x] **Upload de avatar** com crop e sincronizaÃ§Ã£o
- [x] **Busca global** multi-entidade
- [x] **Admin dashboard** com estatÃ­sticas
- [x] **API RESTful** bem documentada

### **ğŸš§ Em Desenvolvimento**
- [ ] **Sistema de notificaÃ§Ãµes** em tempo real
- [ ] **GamificaÃ§Ã£o** (badges, pontos)
- [ ] **IntegraÃ§Ã£o com redes sociais**
- [ ] **App mobile** nativo

### **ğŸ“‹ Planejado**
- [ ] **Machine Learning** para recomendaÃ§Ã£o de ideias
- [ ] **AnÃ¡lise de sentimento** dos comentÃ¡rios
- [ ] **Sistema de geolocalizaÃ§Ã£o** avanÃ§ado
- [ ] **IntegraÃ§Ã£o com prefeituras** para implementaÃ§Ã£o

---

## ğŸ“ **Contato e Suporte**

- **ğŸ“§ Email:** contato@comunidadeativa.com
- **ğŸ“± Telefone:** (11) 9999-9999
- **ğŸŒ Website:** https://comunidadeativa.com
- **ğŸ“ EndereÃ§o:** SÃ£o Paulo, Brasil

---

*Este projeto foi desenvolvido como parte do curso de **AnÃ¡lise e Desenvolvimento de Sistemas** da **Universidade Paulista (UNIP)**.*
